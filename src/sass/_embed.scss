////
/// Bridge Embed
///
/// @group bridge-style
/// @since v0.6
@import "scrollbars";
@import "geodata";
@import "loading";
@import "share";

$max-width: 500px;

/// Bridge Embed item
///
/// A single translation object: a media object + translation + optional annotation.
%embed-item {
  position: relative;
  overflow: hidden;
  padding: 0.3em 0em 0em;
  margin: 2em auto 0;
  max-width: $max-width;
  height: 100%;

  & > iframe {
    margin: 0 auto;
    max-width: $max-width !important;
  }

  &:first-of-type {
    margin-top: 0;
  }
}

/// Bridge Translator byline
///
/// The byline says who the post is written by: The author of the post with avatar + related attributes of the translation owner + metadata about translation.
%translator-byline {
  font-weight: 400;
  margin-top: 0.5em;
  padding: 0.6em 1em 1em;
  margin: 0;
  font-weight: 700;
}

/// Bridge Translation
///
/// The actual target language content: The translation itself.
/// Contained by a single p.
%translation {
  margin: 0 4px;
  border-left: 4px solid $bridge-orange;

  &.rtl {
    direction: rtl;
    text-align: right;
  }

  p {
    max-width: $max-width;
    padding: 0.6em 1em;
    margin: 0;
  }

  p:empty {
    display: none;
  }

  p {
    margin: 0;
  }
}

/// Translator annotation
///
/// A translator's commentary on a translation: A translator-oriented comment.
/// There is usually one annotation.
/// The annotation is not always by the translator of a given translation.
%translator-annotation {
  font-size: smaller;
  background-color: $light-bridge-orange;
  font-weight: 200;
  padding: 0.6em 1em;
  margin: 4px;
  max-width: $max-width;

  .byline {
    padding: 0;
  }
}

/// Annotation Pointer icon
///
/// This points up from the target to the source: a triangle. 
/// SVG as base64 data.
/// @requires %icon-base - set the element width to use a background image.
/// @example
///   .translation {
///     @extend %icon-base;
///     @extend %icon-annotation-pointer;
///   }
%icon-annotation-pointer {
  background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB3aWR0aD0iMjJweCIgaGVpZ2h0PSIxMHB4IiB2aWV3Qm94PSIwIDAgMjIgMTAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM6c2tldGNoPSJodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2gvbnMiPiAgICAgICAgPHRpdGxlPmFubm90YXRpb24tcG9pbnRlcjwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJfdWkiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPiAgICAgICAgPGcgaWQ9ImlQaG9uZS02IiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjkuMDAwMDAwLCAtNTYxLjAwMDAwMCkiIGZpbGw9IiNGRkY2RjEiPiAgICAgICAgICAgIDxnIGlkPSJhbm5vdGF0aW9uLXBvaW50ZXIiIHNrZXRjaDp0eXBlPSJNU0xheWVyR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI5LjAwMDAwMCwgNTYxLjAwMDAwMCkiPiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCwxMCBMMTAuNDc2MTkwNSwwIEwyMiwxMCBMMCwxMCBaIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj48L3BhdGg+ICAgICAgICAgICAgPC9nPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
}

body {
  margin: 0;
}

.bridgeEmbed__item {
  @extend %embed-item;
}

.byline {
  @extend %translator-byline;
}

.bridgeEmbed__item-translation {
  @extend %translation;
}

.bridgeEmbed__item-comment {
  @extend %translator-annotation;

  &:empty {
    display: none;
  }
}

#bridgeEmbed__footer {
  display: block;
  padding: 4em 2em;
  text-align: center;
  text-transform: uppercase;
  font-weight: 100;
  font-size: 10px;

  a {
    color: $bridge-orange;
    text-decoration: none;
  }
}

.bridgeEmbed__item:first-of-type .bridgeEmbed__item-embedly-card {
  display: block;

  @extend %loading;
}