// Checkdesk reports page 
//
// We use the views fluid grid plugin
// See also: report.scss

@mixin reports-layout($secondary-width, $primary-width, $break: $total-columns) {
  body.page-reports {
    #main {
      //outermost container
      @include span-columns($break - 2, $break, $gutter-width / 2);
      @include pad(1, 1, $break);
      @content;
    }
  }
}

// Default: up to break-small
@include reports-layout($total-columns, $total-columns - 2);

// WIP Feb 20 2014 CGB

// // Breakpoint: small
// @include at-breakpoint($break-small) {
//   $break: $break-small;
//   $secondary-width: 4;
//   // calculate main col width
//   $primary-width: $break-small - $secondary-width;

//   body.page-reports #main {
//     @include span-columns($break - 2, $break, $gutter-width / 2);
//     @include pad(1, 1, $break);
//   }

//   // reapply reports-layout
//   @include reports-layout($secondary-width, $primary-width, $break); 
// }

// Breakpoint: med

// The sidebar doubles in width and the primary form widens
// @include at-breakpoint($break-medium) {
//   $break: $break-medium;
//   $secondary-width: 7;
//   $primary-width: $break-medium - $secondary-width;

//   @include reports-layout($secondary-width, $primary-width, $break) {
//     @include span-columns($break - 4, $break, $gutter-width);
//     @include pad(2, 2, $break);
//   }
// }  
// // Breakpoint: large
// @include at-breakpoint($break-large) {
//   $break: $break-large;
//   $secondary-width: 7;
//   $primary-width: $break-large - $secondary-width;
//   body.page-reports #main {
//     @include span-columns($break - 4, $break, $gutter-width);
//     @include pad(2, 2, $break);
//   }
//   // reapply reports-layout with new break
//   @include reports-layout($secondary-width, $primary-width, $break); 
// }

body.page-reports,
.profile {
  h1.title {
    text-align: center;
    font-weight: normal;
  }
  #reports {
    @extend %clearfix;
    text-align: center;
    margin: 0 auto;
    .report-item {
      min-width: 180px;
      width: 32%;
      margin-bottom: $absolute-line-height / 2;
      .report-row-container {
        text-align: $from-direction;
        padding: $absolute-line-height / 2 0;
        border-bottom: 1px solid lighten($gray-light, 20%);
        @include single-transition(opacity, 0.3s, linear, 0);
      }
      // for tweets
      .twitter_com {
        .favicon,
        .domain,
        .author {
          display: none;
        }
      }
      .report-content {
        @extend %clearfix;
        // thumbnail type
        .media-type-thumbnail {
          max-width: 100%;
          .media-thumbnail img {
            width: 100%;
            @include opacity(0.9);
          }
          .media-title {
            margin: $absolute-line-height / 4 0;
            font-size: $font-size-small;
            line-height: 1.2;
            color: $gray;
          }
        }
        // thumbnail type
        .media-type-tweet {
          & > div > a {
            display: none;
          }
          // keeps embedded iframe
          // inside sidebar
          iframe {
            min-width: 100% !important;
            width: 100% !important;
          }
        }
        .media-type-fbpost {
          .fb-post {
            max-width: 100%;
            overflow: hidden;
            border-right: 1px solid #d3d6db;
            clear: both;
            & > span {
              float: left;
              // force
           
            }
          }
          .oembed-title,
          .favicon,
          .domain,
          .author {
            display: none;
          }
        }
      }
      // report content
      .report-status {
        float: $omega;
      }
      // status icons
      .verified span {
        color: $green;
        @include icon(ok-sign, 16px, darken($green, 15%));
      }
      .false span {
        color: $red;
        @include icon(remove-sign, 16px, darken($red, 15%));
      }
      .undetermined span {
        color: $orange;
        @include icon(question-sign, 16px, darken($orange, 15%));
      }
      .in_progress span {
        color: $yellow;
        @include icon(refresh, 16px, darken($yellow, 15%));
      }
      .report-detail-link {
        a {
          @include button($gray-light);
          @include button-size(13px);
        }
      }
      // report published on an update
      .report-published {
        position: absolute;
        top: 0;
        #{$alpha}: auto;
        #{$omega}: 0;
        z-index: 2;
        // over the report thumbnail
        height: 54px;
        // background image height
        width: 51px;
        // background image width
        background-color: transparent;
        background-position: center center;
        background-repeat: no-repeat;
        @if $alpha == "left" {
          background-image: url("../imgs/published.png");
        }
        @if $alpha == "right" {
          background-image: url("../imgs/published-ar.png");
        }
        // @include icon(file-alt, 22px, $black, 'after');
        span {
          display: none;
        }
      }
    }
  }
  .pager-load-more {
    @extend %clearfix;
    float: none;
    width: 100%;
    text-align: center;
    a {
      width: 70%;
      margin: 0 auto;
      text-align: center;
    }
  }
}