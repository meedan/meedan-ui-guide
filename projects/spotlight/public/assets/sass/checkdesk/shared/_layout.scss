// # Checkdesk layout
// 
// Establish the total grid column count
//
$total-columns: 12;

// Use a container style by default
//
// See: http://susy.oddbird.net/guides/reference/#ref-container-style
//
// $container-style: fluid;

// default sidebar width is 100% wide.
// $sidebar-columns: $total-columns;

// The distance between grid columns
// The width of columns
// The padding on the sides of the outer <container>
// $gutter-width: 16px;
// $column-width: 32.66px;
$grid-padding: 0;

body {
  direction: ltr;
  margin: 0;
}

// Directional configuration used by Susy
$from-direction: left !default;
$alpha: $from-direction;
$omega: opposite-position($from-direction);

// Create a susy container
//
// Optionally we can visualize background with a grid.
//
// Note: the visual debugger susy-grid-grid sometimes shows rounding problems! Not perfect.
// See: http://susy.oddbird.net/guides/reference/#ref-grid-background
//
.page-container {
  @include container;
  a {
    text-decoration: none;
  }
}

// The sidebar column
#widgets.column {
  background: white;
  max-width: 360px;
  position: fixed;
  height: 100%;
  #{$alpha}: 0;
  top: $navbar-height;
  border-#{$omega}: 1px solid $firefly10;
  @include respond-to(laptop) {
    @include span-columns(3, 12);
  }

  #widgets-inner {
    padding: 1.5em;
    #partner-header,
    .widgets-wrapper {
      @include reset-columns;
      #featured-stories {
        .block {
          margin: $absolute-line-height / 2 0;
        }
        h2 {
          border-top: 4px solid $firefly10;
          padding-top: $base-line-height / 2;
        }
      }
    }
  }
}

// The primary content column, 
// on story create page, the main column with the composer form
#content {
  @include span-columns(5, 12);
  float: right;
  margin-right: 0;
  @include pad(1, 2, 12);
  margin-top: $navbar-height;
  overflow-y: auto;
  #content-inner {
    @extend %clearfix;
    max-width: 850px;
    padding-top: $base-line-height * 2;
  }
}

@include respond-to(laptop) {
  body.widgets {
    #main {
      #widgets.column {
        position: relative;
        width: 100%;
        max-width: 100%;
        height: auto;
        border-#{$omega}: 0 none;
        border-bottom: 1px solid $firefly10;
        #widgets-inner {
          padding: 4% 2% 2%;
          @extend %clearfix;
          @include pad(1, 1, $total-columns);
          #partner-header {
            @include span-columns($total-columns - 8, $total-columns);
          }
          .widgets-wrapper {
            @include span-columns($total-columns - 5, $total-columns);
            #featured-stories {
              h2 {
                border-top: 0 none;
                padding-top: 0;
              }
              .block {
                margin-top: 0;
              }
            }
          }
        }
      }
      #content {
        margin-#{$alpha}: 0;
      }
    }
  }
}


// // Hide featured stories block for small viewports
// @media all and (max-height: 38em) {
//   body.widgets #main #widgets.column {
//     .view-featured-stories {
//       display: none;
//     }
//   }
// }

// // Hide featured stories block for small viewports
// @media all and (max-height: 48em) {
//   body.widgets #main #widgets.column {
//     .view-featured-stories {
//       .views-row-first {
//         img {
//           display: none;
//         }
//       }
//     }
//   }
// }

#widgets {
  #widgets-inner {
    // remove margin from first block
    .region-widgets :first-child {
      margin-top: 0;
    }
  }
  // spacing between blocks/widgets
  .block {
    @extend %clearfix;
    margin: $absolute-line-height / 2 0;
    // block title
    h2 {
      @include reset-box-model;
      border-top: 4px solid $firefly10;
      padding-top: $base-line-height / 2;
      margin-bottom: $base-line-height / 2;
      font-family: $sans-serif-font-stack;
      font-weight: 700;
      font-size: $base-font-size;
      color: $firefly40;
    }
    iframe {
      // keep embedded widgets width 100%
      // max-width: 100% !important;
   
    }
  }
  .elsewhere {
    @extend %clearfix;
    text-align: center;
    h2 {
      @include reset-box-model;
      float: $alpha;
      border-top: 0px none;
      height: 24px;
      padding: $absolute-line-height / 2 $gutter-width * 2 $absolute-line-height / 2 0;
      font-size: $smaller-font-size;
      @include if-rtl {
        font-size: $x-large-font-size;
        height: 20px;
        color: $grey;
      }

      @include if-ltr {
        text-transform: uppercase;
        letter-spacing: 0.15em;
      }
    }
    ul {
      @include reset-list-style;
      float: $alpha;
      text-align: center;
      li {
        float: $alpha;
        a {
          display: block;
          padding: $absolute-line-height / 4 $gutter-width / 2;
          vertical-align: top;
          line-height: 1.4;
          height: 36px;
          width: 35px;
          text-align: center;
          &:hover {
            text-decoration: none;
            background-color: $firefly5;
          }
        }
        span {
          &.icon-facebook {
            @include icon("facebook", $larger-font-size, $facebook-blue);
          }
          &.icon-twitter {
            @include icon("twitter", $larger-font-size, $twitter-blue);
          }
          &.icon-google-plus {
            @include icon("google-plus-sign", 40px, $red);
          }
          &.icon-youtube {
            @include icon("youtube", $larger-font-size, $red);
          }
        }
      }
    }
  }
}