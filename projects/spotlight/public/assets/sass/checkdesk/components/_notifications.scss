// Notifications block
//
// When the user gets a notification they can preview it in the navigation.
// See: http://wf.meedan.net/project/checkdesk/notifications
// Contained by: Navigation
//
// Compatibility: untested

// Notifications list
#my-notifications {
  width: 360px;
  font-size: $small-font-size;
  line-height: 1;
  .heartbeat-activity {
    @extend %clearfix;
    color: $gray;
    padding: $absolute-line-height / 2 $gutter-width;
    border-bottom: 1px solid $gray-lighter;
    overflow: hidden;
    a {
      @include link-colors($gray);
    }
    .activity-data {
      @extend %clearfix;
      .activity-data-image {
        float: $from-direction;
        margin-#{$omega}: $gutter-width;
        vertical-align: text-bottom;
        @include square(20px);
      }
      .activity-data-message {
        float: $from-direction;
        width: 80%;
      }
    }
    .activity-meta {
      margin-top: $absolute-line-height / 4;
      color: $gray-light;
    }
  }
  // Activity icons Mixin
  @mixin activity-icon($name: "add_story", $symbol: "warning-sign", $color: $grey, $size: $notification-icon-size) {
    .checkdesk_#{$name} #{$notifications-icon-selector} {
      @include icon($symbol, $size, $color) {
        // apply the width directly to the :before content
        width: $notification-image-width;
      }
    }
  }
  // .icon-iconname
  @include activity-icon("comment_on_update", "comment", $grey);
  @include activity-icon("new_update_on_story_i_commented_on_update", "comment", $dark-blue);
  @include activity-icon("reply_to_comment", "comment-alt", $dark-blue);
  @include activity-icon("comment_on_report", "comment", $dark-blue);
  @include activity-icon("fact_checking_on", "star", $twitter-blue);
  @include activity-icon("fact_checking_set", "star", $twitter-blue);
  @include activity-icon("report_suggested_to_story", "link", $facebook-blue);
  @include activity-icon("fact_status_changed_for_commenter", "warning-sign", $black);
  @include activity-icon("flag_report", "flag", $youtube-red);
  @include activity-icon("report_published_in_update", "star", $grey);
  @include activity-icon("new_user", "user", $dark-blue);
  // Pager is called when content is scrolled, so it must be hidden
  ul.pager-load-more {
    display: none;
  }
  // We need a scrollbar here
  .view-content {
    height: ms(10);
    overflow-y: auto;
    margin-bottom: $absolute-line-height / 4;
  }
  .more-link {
    float: $alpha;
  }
  .notifications-settings-link {
    @include reset-box-model;
    float: $omega;
  }
  .more-link,
  .notifications-settings-link {
    a {
      @include dropdown-link;
      @include link-colors($gray);
      &:hover {
        background-color: transparent;
      }
    }
  }
}

// Notifications settings page
.notifications-preferences {
  .notifications-preferences-site {
    @include icon("bell-alt");
  }
  .notifications-preferences-email {
    @include icon("envelope");
  }
  tr {
    td,
    th {
      text-align: $from-direction;
    }
  }
}